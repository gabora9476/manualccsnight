<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ley Orgánica Procesal de Caracas — Caracas Night RP</title>
<style>
  :root{
    --bg:#0b2545; --paper:#fbfbfb; --ink:#111827; --accent:#1e90ff;
    --page-w:760px; --page-h:520px; --gutter:28px;
  }
  html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; background:linear-gradient(180deg,#07172b 0%, #0b2545 60%); color:var(--ink);}
  .wrap{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px;box-sizing:border-box}

  /* book shell */
  .book{
    width:calc(var(--page-w) + var(--gutter)*2);
    max-width:96vw;
    perspective:1400px;
    user-select:none;
    touch-action:pan-y;
  }

  /* cover */
  .cover{background:var(--bg);color:var(--paper);padding:28px;border-radius:10px;box-shadow:0 18px 40px rgba(2,6,23,0.6);display:flex;flex-direction:column;align-items:center;justify-content:center}
  .cover h1{margin:0;font-size:26px;letter-spacing:0.6px}
  .cover h2{margin:8px 0 0;font-size:14px;font-weight:600;opacity:0.9}
  .cover .meta{margin-top:14px;font-size:13px;opacity:0.85}
  .cover .cta{margin-top:18px;padding:10px 18px;border-radius:999px;background:linear-gradient(90deg,var(--accent),#1976d2);color:white;font-weight:700;cursor:pointer}

  /* book pages viewport */
  .viewport{position:relative;margin-top:18px;height:var(--page-h);display:flex;align-items:center;justify-content:center}
  .pages{width:100%;height:100%;position:relative;display:flex;align-items:center;justify-content:center}

  /* page style */
  .page{
    width:var(--page-w);height:var(--page-h);background:var(--paper);box-shadow:0 12px 30px rgba(2,6,23,0.25);border-radius:6px;padding:34px;box-sizing:border-box;position:absolute;left:50%;transform:translateX(-50%);overflow:auto;
    -webkit-overflow-scrolling:touch;
    transition:transform 520ms cubic-bezier(.2,.9,.3,1),opacity 240ms ease, box-shadow 300ms ease;
  }
  .page .title{font-weight:800;font-size:18px;margin-bottom:8px}
  .page h3{margin:12px 0 6px;font-size:14px}
  .page p{font-size:13px;line-height:1.5;margin:6px 0}
  .page .small{font-size:12px;color:#555}

  /* stacking */
  .page.prev{transform:translateX(calc(-160%)) scale(.98) rotateY(8deg);opacity:0.95}
  .page.current{transform:translateX(-50%);z-index:30}
  .page.next{transform:translateX(calc(40%)) scale(.98) rotateY(-8deg);opacity:0.95}
  .page.hidden{opacity:0;transform:translateX(-50%) scale(.96) rotateY(0deg);pointer-events:none}

  /* mobile tweaks */
  @media(max-width:900px){:root{--page-w:92vw;--page-h:68vh}
    .page{padding:20px}
  }

  /* controls */
  .controls{display:flex;gap:12px;align-items:center;justify-content:center;margin-top:12px}
  .btn{background:transparent;border:1px solid rgba(255,255,255,0.08);color:var(--paper);padding:8px 12px;border-radius:8px;cursor:pointer}
  .pageind{color:var(--paper);font-weight:600}

  /* progress footer */
  .footer{display:flex;justify-content:space-between;align-items:center;margin-top:14px;color:rgba(255,255,255,0.9);font-size:13px}

  /* subtle page number inside */
  .pagenum{position:fixed;right:18px;bottom:18px;color:rgba(255,255,255,0.12);font-weight:700;font-size:72px;pointer-events:none}

  /* accessibility focus */
  .btn:focus{outline:3px solid rgba(30,144,255,0.18)}

</style>
</head>
<body>
<div class="wrap">
  <div class="book" role="application" aria-label="Libro: Ley Orgánica Procesal de Caracas">

    <!-- front cover -->
    <div class="cover" id="cover">
      <h1>Ley Orgánica Procesal de Caracas</h1>
      <h2>Caracas Night RP — Versión Oficial</h2>
      <div class="meta">Documento normativo oficial del servidor.</div>
      <div class="cta" id="openBtn">Abrir libro →</div>
    </div>

    <!-- viewport for pages -->
    <div class="viewport" id="viewport" style="display:none;flex-direction:column;align-items:center">
      <div class="pages" id="pages"></div>
      <div class="footer" style="width:calc(var(--page-w) + var(--gutter)*2);max-width:96vw">
        <div class="controls">
          <button class="btn" id="prevBtn" aria-label="Página anterior">◀ Anterior</button>
          <div class="pageind" id="pageIndicator">1 / 1</div>
          <button class="btn" id="nextBtn" aria-label="Página siguiente">Siguiente ▶</button>
        </div>
        <div style="font-size:13px">Desliza o toca los bordes para pasar página</div>
      </div>
      <div class="pagenum" id="pagenum"></div>
    </div>
  </div>
</div>

<script>
/*
  Book viewer — single file.
  - Creates pages from `contentPages` array.
  - Supports click on controls, touch swipe, and keyboard arrows.
  - Smooth transitions and responsive layout.
*/

const contentPages = [
`<div class="title">Preámbulo</div>
<p>La Ciudad de Caracas, en uso de sus competencias soberanas y bajo el principio del orden y la convivencia digital, decreta la presente <strong>Ley Orgánica Procesal de Caracas</strong>, destinada a regir la vida civil, policial, judicial y criminal dentro del territorio virtual de <em>Caracas Night RP</em>, garantizando el equilibrio, el respeto y la coherencia del roleplay venezolano.</p>`,
`<div class="title">TÍTULO I — Disposiciones Fundamentales</div>
<p><strong>Art. 1.º — Objeto.</strong><br>Regular la conducta de los ciudadanos dentro del territorio de Caracas, estableciendo derechos, deberes, sanciones y procedimientos que aseguren una experiencia de roleplay realista y justa.</p>
<p><strong>Art. 2.º — Ámbito de Aplicación.</strong><br>Esta Ley será de cumplimiento obligatorio para toda persona que participe en el servidor <em>Caracas Night RP</em>, sin excepción de cargo, facción o nivel.</p>
<p><strong>Art. 3.º — Principios Rectores.</strong><br>Toda conducta deberá regirse por los principios de Realismo, Respeto, Equidad y Lógica.</p>`,
`<div class="title">TÍTULO II — Derechos y Deberes Ciudadanos</div>
<p><strong>Art. 10.º — Derechos del Ciudadano.</strong><br>Todo ciudadano tiene derecho a: recibir trato digno, no ser objeto de acoso, recibir protección como jugador nuevo hasta nivel 3, desarrollar su personaje y denunciar abusos.</p>
<p><strong>Art. 11.º — Deberes del Ciudadano.</strong><br>Actuar con coherencia IC, evitar OOC, obedecer órdenes válidas y respetar normas.</p>`,
`<div class="title">TÍTULO III — Protección a Nuevos Jugadores</div>
<p><strong>Art. 20.º — Nivel de Protección.</strong><br>Todo jugador con <strong>nivel inferior a 3</strong> será considerado ciudadano en formación y gozará de inmunidad contra roles violentos o agresivos (robos, secuestros, asesinatos, extorsión o amenazas).</p>
<p><strong>Art. 21.º — Sanción por Violentar a Novatos.</strong><br>Toda persona que ejecute acciones violentas contra ciudadanos de nivel inferior a 3 será sancionada; su rol será nulo por invalidez procesal.</p>
<p><strong>Art. 22.º — Restricción de Actos Delictivos.</strong><br>Los jugadores nivel &lt; 3 tampoco podrán ejecutar robos ni delitos graves.</p>`,
`<div class="title">TÍTULO IV — Condiciones para Roles Agresivos</div>
<p><strong>Art. 30.º — Equilibrio de Fuerzas.</strong><br>a) Con 2 policías activos, solo podrán participar 2 civiles en roles agresivos.<br>b) Si no hay policías activos, se suspende cualquier rol violento.</p>
<p><strong>Art. 31.º — Requisitos Mínimos.</strong><br>Para ejecutar roles agresivos complejos deberán existir mínimo 4 policías y 4 antisociales activos.</p>
<p><strong>Art. 32.º — Actos de Alta Gravedad.</strong><br>Robos de patrullas, secuestros de funcionarios o atentados públicos solo serán válidos con al menos 20 funcionarios policiales activos.</p>
<p><strong>Art. 33.º — Robos Espontáneos.</strong><br>Los robos a tiendas serán de ejecución inmediata y no planificada; deberán responder al menos 4 policías según la magnitud.</p>`,
`<div class="title">TÍTULO V — Normas Generales del Roleplay</div>
<p><strong>Art. 40.º — Metagaming (MG).</strong><br>Queda prohibido usar información obtenida fuera de rol para actuar dentro del juego.</p>
<p><strong>Art. 41.º — Powergaming (PG).</strong><br>Prohibido ejecutar acciones imposibles o abusivas que excedan capacidades humanas o del entorno.</p>
<p><strong>Art. 42.º — Random Deathmatch (RDM).</strong><br>Prohibido atacar o matar sin motivo RP válido.</p>
<p><strong>Art. 43.º — Vehicle Deathmatch (VDM).</strong><br>Prohibido usar vehículos como armas sin justificación RP.</p>
<p><strong>Art. 44.º — Combat Logging.</strong><br>Prohibido desconectarse durante un rol en curso, persecución o enfrentamiento.</p>
<p><strong>Art. 45.º — FearRP.</strong><br>Todo ciudadano debe reaccionar con miedo y lógica ante situaciones de peligro.</p>
<p><strong>Art. 46.º — Value of Life.</strong><br>Se deberá valorar la vida del personaje; no se permite actuar de forma suicida o absurda.</p>
<p><strong>Art. 47.º — Stream Sniping.</strong><br>Usar transmisiones en vivo para obtener ventajas queda prohibido.</p>
<p><strong>Art. 48.º — Acoso o Simpeo.</strong><br>Cualquier insinuación o acoso sexual no consentido, especialmente hacia mujeres, será acoso grave y sancionado con expulsión.</p>
<p><strong>Art. 49.º — Rol Sexual.</strong><br>Prohibido rol sexual explícito; interacciones amorosas deben ser leves y consentidas.</p>
<p><strong>Art. 50.º — Discriminación.</strong><br>Racismo o discriminación será sancionado directamente.</p>
<p><strong>Art. 51.º — Trolling o Griefing.</strong><br>Prohibido entorpecer roles ajenos intencionalmente.</p>
<p><strong>Art. 52.º — Rol de Servicios.</strong><br>Roles de mecánicos, médicos, bomberos y taxistas deben realizarse con respeto; no se permite agredirlos salvo rol lógico autorizado.</p>`,
`<div class="title">TÍTULO VI — Armas y Enfrentamientos</div>
<p><strong>Art. 60.º — Uso Urbano.</strong><br>Armas medias o largas prohibidas en roles urbanos leves.</p>
<p><strong>Art. 61.º — Uso Autorizado.</strong><br>Permitido fuera de la ciudad o en enfrentamientos de gran escala (mínimo 8 por banda).</p>
<p><strong>Art. 62.º — Armamento Mafioso.</strong><br>Mafias podrán portar armas largas dentro de sus bases como respaldo estético; no pueden disparar fuera del área segura.</p>
<p><strong>Art. 63.º — Disparos sin Visual.</strong><br>Disparar sin visión real invalida el disparo; uso abusivo de cámara será sancionado.</p>`,
`<div class="title">TÍTULO VII — Procedimientos Policiales y Retenes</div>
<p><strong>Art. 70.º — Alcabalas y Requisitos.</strong><br>Toda alcabala debe tener al menos una patrulla (no moto) y conos de advertencia visibles.</p>
<p><strong>Art. 71.º — Rol No Agresivo.</strong><br>Si el retén posee solo 2 policías, el rol será no agresivo y los civiles deben detenerse.</p>
<p><strong>Art. 72.º — Respeto a la Autoridad.</strong><br>Negarse a un retén sin rol previo o huir sin motivo RP se considera falta grave.</p>`,
`<div class="title">TÍTULO VIII — Estrellas de Búsqueda y Corrupción</div>
<p><strong>Art. 80.º — Sistema de Búsqueda.</strong><br>Los delitos graves añadirán estrellas de búsqueda; podrán eliminarse entregándose o sobornando a un policía mediante rol lógico.</p>`,
`<div class="title">TÍTULO IX — Roles Especiales y Públicos</div>
<p><strong>Art. 90.º — Funcionarios Protegidos.</strong><br>Prohibido robar, secuestrar o matar a funcionarios públicos uniformados o servicios esenciales salvo rol lógico autorizado.</p>
<p><strong>Art. 91.º — Roles de Gobierno.</strong><br>Cargos de Gobernador, Alcalde o Comandante deben mantener conducta ejemplar y no abusar de poder.</p>`,
`<div class="title">TÍTULO X — Sanciones y Competencia Administrativa</div>
<p><strong>Art. 100.º — Faltas Leves.</strong><br>Infracciones menores (MG leve, insultos, OOC) conllevan advertencia o suspensión temporal.</p>
<p><strong>Art. 101.º — Faltas Graves.</strong><br>PG, RDM, VDM, acoso o abuso de rol se sancionan con suspensión prolongada o expulsión permanente.</p>
<p><strong>Art. 102.º — Reincidencia.</strong><br>La reiteración de faltas eleva la sanción automáticamente.</p>
<p><strong>Art. 103.º — Autoridad Administrativa.</strong><br>Jueces, fiscales o moderadores son la autoridad legítima para aplicar sanciones según esta Ley.</p>`,
`<div class="title">TÍTULO XI — Disposiciones Finales</div>
<p><strong>Art. 110.º — Interpretación.</strong><br>La interpretación y actualización de esta Ley corresponde al Consejo Administrativo de Caracas Night RP.</p>
<p><strong>Art. 111.º — Vigencia.</strong><br>La presente Ley entra en vigor al ser publicada oficialmente en los canales de comunicación del servidor.</p>
<p><strong>Art. 112.º — Principio de Soberanía Digital.</strong><br>El servidor se reserva el derecho de modificar artículos conforme al desarrollo del ecosistema de roleplay.</p>
`
];

// build pages
const pagesEl = document.getElementById('pages');
let pageEls = [];
contentPages.forEach((html, idx)=>{
  const div = document.createElement('article');
  div.className = 'page hidden';
  div.setAttribute('aria-label', `Página ${idx+1}`);
  div.innerHTML = html + `<div style="margin-top:18px;font-size:12px;color:#444">Artículo y Secciones — Caracas Night RP · Página ${idx+1}</div>`;
  pagesEl.appendChild(div);
  pageEls.push(div);
});

let current = 0;
function showPage(i){
  if(i<0) i=0; if(i>pageEls.length-1) i=pageEls.length-1;
  current = i;
  pageEls.forEach((p, idx)=>{
    p.classList.remove('prev','current','next','hidden');
    if(idx < current-0){
      // previous pages
      if(idx === current-1) p.classList.add('prev'); else p.classList.add('hidden');
    }
    if(idx === current) p.classList.add('current');
    if(idx > current){
      if(idx === current+1) p.classList.add('next'); else p.classList.add('hidden');
    }
  });
  updateFooter();
}

function updateFooter(){
  document.getElementById('pageIndicator').textContent = `${current+1} / ${pageEls.length}`;
  document.getElementById('pagenum').textContent = `${current+1}`;
}

// initial state
const cover = document.getElementById('cover');
const viewport = document.getElementById('viewport');
const openBtn = document.getElementById('openBtn');
openBtn.addEventListener('click', ()=>{ cover.style.display='none'; viewport.style.display='flex'; showPage(0); });

// controls
document.getElementById('prevBtn').addEventListener('click', ()=> showPage(current-1));
document.getElementById('nextBtn').addEventListener('click', ()=> showPage(current+1));

// keyboard
window.addEventListener('keydown', (e)=>{
  if(viewport.style.display === 'none') return;
  if(e.key === 'ArrowLeft') showPage(current-1);
  if(e.key === 'ArrowRight') showPage(current+1);
});

// click on left/right page areas
pagesEl.addEventListener('click',(e)=>{
  const w = pagesEl.getBoundingClientRect().width;
  const x = e.clientX - pagesEl.getBoundingClientRect().left;
  if(x < w*0.38) showPage(current-1); else if(x > w*0.62) showPage(current+1);
});

// touch gestures
let touchStartX = null;
pagesEl.addEventListener('touchstart',(e)=>{ touchStartX = e.changedTouches[0].clientX; },{passive:true});
pagesEl.addEventListener('touchend',(e)=>{
  if(touchStartX === null) return;
  const dx = e.changedTouches[0].clientX - touchStartX;
  const threshold = 40; // px
  if(dx > threshold) showPage(current-1);
  else if(dx < -threshold) showPage(current+1);
  touchStartX = null;
},{passive:true});

// accessibility: allow swipe edges on mobile by listening touchmove to avoid scrolling interfering

// expose jump function for external use
window.book = { goto: showPage, total: contentPages.length };

</script>
<a href="comandos.html" class="btn" style="position:fixed;top:20px;right:20px;background:#1e90ff;color:#fff;padding:10px 16px;border-radius:6px;text-decoration:none;font-weight:600;z-index:99">Ver Comandos ⚙️</a>
</body>
</html>
